<section>
  <div class="container">

    <div class="headtext">
      <h1>Improve Writing</h1>
    </div>

    <!-- Topic Section -->
    <div class="section topic-fetching-box">
      <div class="topic-header">
        <h2>Topic</h2>
        <button class="new-topic-button" (click)="fetchTopic()">New Topic</button>
      </div>
      <div *ngIf="topicList.length > 0; else noTopics">
        <p>{{ topicList[0].topic }}</p>
      </div>
      <ng-template #noTopics>
        <p>No topics available at the moment.</p>
      </ng-template>
    </div>

    <!-- Writing Section -->
    <div class="section writing-box">
      <h2>Your Answer</h2>
      <textarea [(ngModel)]="userResponse" placeholder="Write your response here..."></textarea>
      <button (click)="submitResponse()">Submit Answer</button>
    </div>

    <!-- Evaluation Feedback Section -->
    <div class="response-display-box" *ngIf="serverResponse && serverResponse.solutionList.length > 0">
      <h2 class="feedback-heading">Expert Evaluation of Your Writing</h2>
      <ul class="evaluation-list">
        <li *ngFor="let solution of serverResponse.solutionList">
          <div class="evaluation-item">
            <p class="evaluation-text" [innerHTML]="solution.solution"></p>
          </div>
        </li>
      </ul>
    </div>

    <!-- No Feedback Available Section -->
    <div *ngIf="serverResponse && serverResponse.solutionList.length === 0">
      <h2 class="feedback-heading">Expert Evaluation of Your Writing</h2>
      <p>No feedback available.</p>
    </div>

  </div>
</section>
